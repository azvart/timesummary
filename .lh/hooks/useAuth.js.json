{
    "sourceFile": "hooks/useAuth.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 22,
            "patches": [
                {
                    "date": 1643030575331,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1643030623031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,18 +22,16 @@\n   const router = useRouter();\n   const [user, setUser] = useState(null);\n \n   const signin = async (email, password) => {\n-    const response = await axios({\n+     await axios({\n       method: \"POST\",\n       url: \"http://localhost:3000/api/user/login\",\n       data: {\n         email: email,\n         password: password\n       }\n     });\n-    setUser(response.data);\n-    return response.data;\n   }\n   const logout = () => {\n     setUser(null);\n     sessionStorage.removeItem('token');\n"
                },
                {
                    "date": 1643030667991,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,16 +22,18 @@\n   const router = useRouter();\n   const [user, setUser] = useState(null);\n \n   const signin = async (email, password) => {\n-     await axios({\n+    const response = await axios({\n       method: \"POST\",\n       url: \"http://localhost:3000/api/user/login\",\n       data: {\n         email: email,\n         password: password\n       }\n     });\n+    setUser(response.data);\n+    return response.data;\n   }\n   const logout = () => {\n     setUser(null);\n     sessionStorage.removeItem('token');\n"
                },
                {
                    "date": 1643031011457,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,8 +30,9 @@\n         email: email,\n         password: password\n       }\n     });\n+    console.log(response);\n     setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n"
                },
                {
                    "date": 1643031126957,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         email: email,\n         password: password\n       }\n     });\n-    console.log(response);\n+    console.log(response.headers);\n     setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n"
                },
                {
                    "date": 1643031152513,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         email: email,\n         password: password\n       }\n     });\n-    console.log(response.headers);\n+    console.log(response.headers['set-cookie']);\n     setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n"
                },
                {
                    "date": 1643031209582,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         email: email,\n         password: password\n       }\n     });\n-    console.log(response.headers['set-cookie']);\n+    console.log(response.headers.cookies);\n     setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n"
                },
                {
                    "date": 1643031243443,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,8 @@\n         email: email,\n         password: password\n       }\n     });\n-    console.log(response.headers.cookies);\n     setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n"
                },
                {
                    "date": 1643031251003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,10 @@\n       url: \"http://localhost:3000/api/user/login\",\n       data: {\n         email: email,\n         password: password\n-      }\n+      },\n+      withCredentials: true,\n     });\n     setUser(response.data);\n     return response.data;\n   }\n"
                },
                {
                    "date": 1643031290640,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,8 +31,9 @@\n         password: password\n       },\n       withCredentials: true,\n     });\n+    console.log(response);\n     setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n"
                },
                {
                    "date": 1643031315172,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n         password: password\n       },\n       withCredentials: true,\n     });\n-    console.log(response);\n+    console.log(response.headers);\n     setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n"
                },
                {
                    "date": 1643031340195,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,8 @@\n         password: password\n       },\n       withCredentials: true,\n     });\n-    console.log(response.headers);\n     setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n"
                },
                {
                    "date": 1643032444891,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,8 +31,9 @@\n         password: password\n       },\n       withCredentials: true,\n     });\n+    console.log(response.headers['set-cookie']);\n     setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n"
                },
                {
                    "date": 1643032481376,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,10 +31,9 @@\n         password: password\n       },\n       withCredentials: true,\n     });\n-    console.log(response.headers['set-cookie']);\n-    setUser(response.data);\n+    setUser(response.headers['set-cookie']);\n     return response.data;\n   }\n   const logout = () => {\n     setUser(null);\n"
                },
                {
                    "date": 1643032506174,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n         password: password\n       },\n       withCredentials: true,\n     });\n-    setUser(response.headers['set-cookie']);\n+    setUser();\n     return response.data;\n   }\n   const logout = () => {\n     setUser(null);\n"
                },
                {
                    "date": 1643032512455,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n         password: password\n       },\n       withCredentials: true,\n     });\n-    setUser();\n+    setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n     setUser(null);\n"
                },
                {
                    "date": 1643279569788,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { useState, useEffect, useContext, createContext } from 'react';\n+import { useState, useContext, createContext } from 'react';\n import axios from 'axios';\n import {useRouter} from 'next/router'\n \n \n@@ -18,9 +18,8 @@\n   return useContext(authContext)\n };\n \n function useProvideAuth(){\n-  const router = useRouter();\n   const [user, setUser] = useState(null);\n \n   const signin = async (email, password) => {\n     const response = await axios({\n@@ -29,16 +28,14 @@\n       data: {\n         email: email,\n         password: password\n       },\n-      withCredentials: true,\n     });\n     setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n     setUser(null);\n-    sessionStorage.removeItem('token');\n   }\n \n   return {\n     user,\n"
                },
                {
                    "date": 1643279667303,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,11 @@\n   return useContext(authContext)\n };\n \n function useProvideAuth(){\n-  const [user, setUser] = useState(null);\n+  const [user, setUser] = useState({\n+    visible:false\n+  });\n \n   const signin = async (email, password) => {\n     const response = await axios({\n       method: \"POST\",\n@@ -35,9 +37,9 @@\n   }\n   const logout = () => {\n     setUser(null);\n   }\n-\n+  const visibleSideBar\n   return {\n     user,\n     signin,\n     logout,\n"
                },
                {
                    "date": 1643279700619,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,11 @@\n   }\n   const logout = () => {\n     setUser(null);\n   }\n-  const visibleSideBar\n+  const visibleSideBar = () => {\n+    setUser({...user, visible:!user.visible})\n+  }\n   return {\n     user,\n     signin,\n     logout,\n"
                },
                {
                    "date": 1643279706805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,6 +44,7 @@\n   return {\n     user,\n     signin,\n     logout,\n+    visibleSideBar\n   }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1643287817791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,8 +19,9 @@\n };\n \n function useProvideAuth(){\n   const [user, setUser] = useState({\n+    user:null,\n     visible:false\n   });\n \n   const signin = async (email, password) => {\n"
                },
                {
                    "date": 1643287857588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n     setUser(response.data);\n     return response.data;\n   }\n   const logout = () => {\n-    setUser(null);\n+    setUser({...user, user:null});\n   }\n   const visibleSideBar = () => {\n     setUser({...user, visible:!user.visible})\n   }\n"
                },
                {
                    "date": 1643287875923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n         email: email,\n         password: password\n       },\n     });\n-    setUser(response.data);\n+    setUser({...user, user:response.data});\n     return response.data;\n   }\n   const logout = () => {\n     setUser({...user, user:null});\n"
                }
            ],
            "date": 1643030575331,
            "name": "Commit-0",
            "content": "import { useState, useEffect, useContext, createContext } from 'react';\nimport axios from 'axios';\nimport {useRouter} from 'next/router'\n\n\nconst authContext = createContext();\n\n\n\nexport function ProvideAuth({children}){\n  const auth = useProvideAuth() ;\n\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>\n};\n\n\nexport const useAuth = () => {\n  return useContext(authContext)\n};\n\nfunction useProvideAuth(){\n  const router = useRouter();\n  const [user, setUser] = useState(null);\n\n  const signin = async (email, password) => {\n    const response = await axios({\n      method: \"POST\",\n      url: \"http://localhost:3000/api/user/login\",\n      data: {\n        email: email,\n        password: password\n      }\n    });\n    setUser(response.data);\n    return response.data;\n  }\n  const logout = () => {\n    setUser(null);\n    sessionStorage.removeItem('token');\n  }\n\n  return {\n    user,\n    signin,\n    logout,\n  }\n}"
        }
    ]
}