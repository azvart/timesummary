{
    "sourceFile": "pages/[id]/index.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 41,
            "patches": [
                {
                    "date": 1642667809235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1642678078665,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,5 +17,11 @@\n Messages.getLayout = (page) => (\n   <Layout>\n     {page}\n   </Layout>\n-)\n\\ No newline at end of file\n+)\n+\n+export async function getServerSideProps(ctx){\n+  console.log(ctx);\n+}\n+\n+export default Messages;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1642678148635,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,7 +21,10 @@\n )\n \n export async function getServerSideProps(ctx){\n   console.log(ctx);\n+  return {\n+    props:{}\n+  }\n }\n \n export default Messages;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1642678168164,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   </Layout>\n )\n \n export async function getServerSideProps(ctx){\n-  console.log(ctx);\n+  console.log(ctx.query)\n   return {\n     props:{}\n   }\n }\n"
                },
                {
                    "date": 1642678188969,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   </Layout>\n )\n \n export async function getServerSideProps(ctx){\n-  console.log(ctx.query)\n+  const {id} = ctx.query;\n   return {\n     props:{}\n   }\n }\n"
                },
                {
                    "date": 1643029762554,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,10 @@\n import Layout from '../../Layout/index';\n+import {useAuth} from '../../hooks/useAuth';\n \n \n \n-\n-\n const Messages =() => {\n-\n   return (\n     <div>\n       <h2>Hello</h2>\n     </div>\n@@ -19,12 +17,16 @@\n     {page}\n   </Layout>\n )\n \n+\n export async function getServerSideProps(ctx){\n-  const {id} = ctx.query;\n+\n   return {\n-    props:{}\n+    props:{\n+      \n+    }\n   }\n }\n \n+\n export default Messages;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1643029775603,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import Layout from '../../Layout/index';\n-import {useAuth} from '../../hooks/useAuth';\n+import { useAuth } from '../../hooks/useAuth';\n \n \n \n const Messages =() => {\n@@ -19,9 +19,9 @@\n )\n \n \n export async function getServerSideProps(ctx){\n-\n+  const auth = useAuth();\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643029854194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,8 +20,9 @@\n \n \n export async function getServerSideProps(ctx){\n   const auth = useAuth();\n+  console.log(ctx.req);\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643029866518,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,10 +19,8 @@\n )\n \n \n export async function getServerSideProps(ctx){\n-  const auth = useAuth();\n-  console.log(ctx.req);\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643030647142,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,8 +19,9 @@\n )\n \n \n export async function getServerSideProps(ctx){\n+  console.log(ctx);\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643030712301,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n )\n \n \n export async function getServerSideProps(ctx){\n-  console.log(ctx);\n+  console.log(ctx.req.cookie);\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643030746635,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n )\n \n \n export async function getServerSideProps(ctx){\n-  console.log(ctx.req.cookie);\n+  console.log(ctx.req);\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643031279982,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,8 @@\n )\n \n \n export async function getServerSideProps(ctx){\n-  console.log(ctx.req);\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643032188793,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,8 +19,9 @@\n )\n \n \n export async function getServerSideProps(ctx){\n+  console.log(ctx.res.getHeader('Set-Cookie'));\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643032250006,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,8 @@\n )\n \n \n export async function getServerSideProps(ctx){\n-  console.log(ctx.res.getHeader('Set-Cookie'));\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643032279481,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,10 @@\n   </Layout>\n )\n \n \n-export async function getServerSideProps(ctx){\n+export async function getServerSideProps({req, res}){\n+  console.log(req.getHeader());\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643032289527,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n )\n \n \n export async function getServerSideProps({req, res}){\n-  console.log(req.getHeader());\n+  console.log(req);\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643032385617,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n )\n \n \n export async function getServerSideProps({req, res}){\n-  console.log(req);\n+  console.log(req.cookie);\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643032394465,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n )\n \n \n export async function getServerSideProps({req, res}){\n-  console.log(req.cookie);\n+  console.log(req);\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643032449164,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,8 @@\n )\n \n \n export async function getServerSideProps({req, res}){\n-  console.log(req);\n   return {\n     props:{\n       \n     }\n"
                },
                {
                    "date": 1643279853802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,11 +3,12 @@\n \n \n \n const Messages =() => {\n+  const auth = useAuth()\n   return (\n     <div>\n-      <h2>Hello</h2>\n+      <button onClick={auth.visibleSideBar()}>Visible</button>\n     </div>\n   )\n }\n \n"
                },
                {
                    "date": 1643279868384,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,9 @@\n const Messages =() => {\n   const auth = useAuth()\n   return (\n     <div>\n-      <button onClick={auth.visibleSideBar()}>Visible</button>\n+      <button onClick={() => auth.visibleSideBar()}>Visible</button>\n     </div>\n   )\n }\n \n"
                },
                {
                    "date": 1643279885666,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,9 @@\n const Messages =() => {\n   const auth = useAuth()\n   return (\n     <div>\n-      <button onClick={() => auth.visibleSideBar()}>Visible</button>\n+      <button onClick={auth.visibleSideBar}>Visible</button>\n     </div>\n   )\n }\n \n"
                },
                {
                    "date": 1644822537664,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,15 @@\n import Layout from '../../Layout/index';\n import { useAuth } from '../../hooks/useAuth';\n+import { Grid, Button } from 'semantic-ui-react';\n+import { withSessionSSR } from '../../lib/sessionsWrappers';\n \n-\n-\n const Messages =() => {\n   const auth = useAuth()\n   return (\n-    <div>\n-      <button onClick={auth.visibleSideBar}>Visible</button>\n-    </div>\n+   <>\n+   \n+   </>\n   )\n }\n \n \n"
                },
                {
                    "date": 1644822627744,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,14 +19,24 @@\n   </Layout>\n )\n \n \n-export async function getServerSideProps({req, res}){\n-  return {\n-    props:{\n+// export async function getServerSideProps({req, res}){\n+//   return {\n+//     props:{\n       \n+//     }\n+//   }\n+// }\n+\n+export const getServerSideProps = withSessionSSR(\n+  async function getServerSideProps({req}){\n+\n+    return {\n+      props:{\n+        user: req.session.user\n+      }\n     }\n   }\n-}\n+)\n \n-\n export default Messages;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1644832984899,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,16 +19,8 @@\n   </Layout>\n )\n \n \n-// export async function getServerSideProps({req, res}){\n-//   return {\n-//     props:{\n-      \n-//     }\n-//   }\n-// }\n-\n export const getServerSideProps = withSessionSSR(\n   async function getServerSideProps({req}){\n \n     return {\n"
                },
                {
                    "date": 1644832990882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n \n \n export const getServerSideProps = withSessionSSR(\n   async function getServerSideProps({req}){\n-\n+    \n     return {\n       props:{\n         user: req.session.user\n       }\n"
                },
                {
                    "date": 1644833002735,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n import Layout from '../../Layout/index';\n import { useAuth } from '../../hooks/useAuth';\n import { Grid, Button } from 'semantic-ui-react';\n import { withSessionSSR } from '../../lib/sessionsWrappers';\n-\n+import jwt from 'jsonwebtoken';\n const Messages =() => {\n   const auth = useAuth()\n   return (\n    <>\n@@ -21,9 +21,9 @@\n \n \n export const getServerSideProps = withSessionSSR(\n   async function getServerSideProps({req}){\n-    \n+\n     return {\n       props:{\n         user: req.session.user\n       }\n"
                },
                {
                    "date": 1644833123700,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,11 @@\n \n \n export const getServerSideProps = withSessionSSR(\n   async function getServerSideProps({req}){\n-\n+    const token = req.session.user;\n+    const decode = jwt.decode(token, process.env.SECRET);\n+    console.log(decode);\n     return {\n       props:{\n         user: req.session.user\n       }\n"
                },
                {
                    "date": 1644833150968,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,8 @@\n export const getServerSideProps = withSessionSSR(\n   async function getServerSideProps({req}){\n     const token = req.session.user;\n     const decode = jwt.decode(token, process.env.SECRET);\n-    console.log(decode);\n     return {\n       props:{\n         user: req.session.user\n       }\n"
                },
                {
                    "date": 1644837813583,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,8 +22,9 @@\n \n export const getServerSideProps = withSessionSSR(\n   async function getServerSideProps({req}){\n     const token = req.session.user;\n+    console.log(req.query)\n     const decode = jwt.decode(token, process.env.SECRET);\n     return {\n       props:{\n         user: req.session.user\n"
                },
                {
                    "date": 1644837825209,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n \n export const getServerSideProps = withSessionSSR(\n   async function getServerSideProps({req}){\n     const token = req.session.user;\n-    console.log(req.query)\n+    console.log(req)\n     const decode = jwt.decode(token, process.env.SECRET);\n     return {\n       props:{\n         user: req.session.user\n"
                },
                {
                    "date": 1644837846022,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n \n export const getServerSideProps = withSessionSSR(\n   async function getServerSideProps({req}){\n     const token = req.session.user;\n-    console.log(req)\n+    console.log(req.params)\n     const decode = jwt.decode(token, process.env.SECRET);\n     return {\n       props:{\n         user: req.session.user\n"
                },
                {
                    "date": 1644837873726,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n )\n \n \n export const getServerSideProps = withSessionSSR(\n-  async function getServerSideProps({req}){\n+  async function getServerSideProps({req, params}){\n     const token = req.session.user;\n     console.log(req.params)\n     const decode = jwt.decode(token, process.env.SECRET);\n     return {\n"
                },
                {
                    "date": 1644837927306,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n \n export const getServerSideProps = withSessionSSR(\n   async function getServerSideProps({req, params}){\n     const token = req.session.user;\n-    console.log(req.params)\n+    const { id } = params;\n     const decode = jwt.decode(token, process.env.SECRET);\n     return {\n       props:{\n         user: req.session.user\n"
                },
                {
                    "date": 1644837970947,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,10 @@\n import { useAuth } from '../../hooks/useAuth';\n import { Grid, Button } from 'semantic-ui-react';\n import { withSessionSSR } from '../../lib/sessionsWrappers';\n import jwt from 'jsonwebtoken';\n+import User from '../../models/user.model';\n+import Password from '../../models/password.model';\n const Messages =() => {\n   const auth = useAuth()\n   return (\n    <>\n"
                },
                {
                    "date": 1644838005091,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n import { withSessionSSR } from '../../lib/sessionsWrappers';\n import jwt from 'jsonwebtoken';\n import User from '../../models/user.model';\n import Password from '../../models/password.model';\n+import dbConnect from '../../lib/mongooseConnect';\n const Messages =() => {\n   const auth = useAuth()\n   return (\n    <>\n"
                },
                {
                    "date": 1644838078281,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,11 +24,22 @@\n \n \n export const getServerSideProps = withSessionSSR(\n   async function getServerSideProps({req, params}){\n+    await dbConnect();\n     const token = req.session.user;\n+    if(!token){\n+      return {\n+        props:{},\n+        redirect:{\n+          destination:'/',\n+          permanent: true\n+        }\n+      }\n+    }\n     const { id } = params;\n     const decode = jwt.decode(token, process.env.SECRET);\n+\n     return {\n       props:{\n         user: req.session.user\n       }\n"
                },
                {
                    "date": 1644838086730,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,8 +26,9 @@\n export const getServerSideProps = withSessionSSR(\n   async function getServerSideProps({req, params}){\n     await dbConnect();\n     const token = req.session.user;\n+    const { id } = params;\n     if(!token){\n       return {\n         props:{},\n         redirect:{\n@@ -35,9 +36,9 @@\n           permanent: true\n         }\n       }\n     }\n-    const { id } = params;\n+\n     const decode = jwt.decode(token, process.env.SECRET);\n \n     return {\n       props:{\n"
                },
                {
                    "date": 1644838123001,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,11 +2,11 @@\n import { useAuth } from '../../hooks/useAuth';\n import { Grid, Button } from 'semantic-ui-react';\n import { withSessionSSR } from '../../lib/sessionsWrappers';\n import jwt from 'jsonwebtoken';\n+import dbConnect from '../../lib/mongooseConnect';\n import User from '../../models/user.model';\n import Password from '../../models/password.model';\n-import dbConnect from '../../lib/mongooseConnect';\n const Messages =() => {\n   const auth = useAuth()\n   return (\n    <>\n"
                },
                {
                    "date": 1644838231746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,8 @@\n import { Grid, Button } from 'semantic-ui-react';\n import { withSessionSSR } from '../../lib/sessionsWrappers';\n import jwt from 'jsonwebtoken';\n import dbConnect from '../../lib/mongooseConnect';\n-import User from '../../models/user.model';\n-import Password from '../../models/password.model';\n const Messages =() => {\n   const auth = useAuth()\n   return (\n    <>\n"
                },
                {
                    "date": 1644838274003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n       return {\n         props:{},\n         redirect:{\n           destination:'/',\n-          permanent: true\n+          permanent: false\n         }\n       }\n     }\n \n"
                }
            ],
            "date": 1642667809235,
            "name": "Commit-0",
            "content": "import Layout from '../../Layout/index';\n\n\n\n\n\nconst Messages =() => {\n\n  return (\n    <div>\n      <h2>Hello</h2>\n    </div>\n  )\n}\n\n\nMessages.getLayout = (page) => (\n  <Layout>\n    {page}\n  </Layout>\n)"
        }
    ]
}